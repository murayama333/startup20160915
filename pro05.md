# Webサイト公開編

# 2 Linuxプログラミング

クラウドサーバに接続できたので、コマンドをいくつか実行してみましょう。

## 2.1 よく使うLinuxコマンド

Linuxはすべての操作をコマンドで処理します。ファイルやフォルダをつくるのもすべてコマンドで処理します。

### pwd カレントフォルダの表示

カレントフォルダとは現在、開いているフォルダのことです。

```
pwd
```

### cd カレントフォルダの移動

以下のように入力すると /var/logフォルダに移動します。

```
cd /var/log
```

> 移動後、pwdコマンドでカレントフォルダを確認してみましょう。

以下のように入力すると /varフォルダに移動します。

```
cd /var
```

以下のように入力すると /var/logフォルダに移動します。

```
cd /
```

> Windowsのルートフォルダは C:¥ です。Linuxのルートフォルダは / です。


### ls カレントフォルダの閲覧

カレントフォルダ上のファイルやフォルダを表示します。

```
ls
```

以下のように -l オプションを指定すると表示が見やすくなります。

```
ls -l
```


### mkdir フォルダの作成

カレントフォルダにsampleというフォルダを作成します。

```
mkdir sample
```



### echo メッセージの表示

画面にメッセージを表示します。

```
echo Hello World
```

次のように入力するとメッセージをファイルに保存できます。

```
echo Hello World > hello.txt
```

> lsコマンドで hello.txt を見つけてみましょう。


### cat ファイルの表示

```
cat hello.txt
```

> Linuxにはnanoエディタというソフトが標準でインストールされています。nanoエディタはnanoコマンドで起動できます。


## 2.2 Webサーバのインストール

続いてWebページを配信するために、Webサーバをインストールしてみます。Webサーバ製品もいくつかありますが、ここでは世界中で最もよく利用されているApacheを利用します。

### クラウドサーバを最新化

クラウド上に作成してすぐのサーバは最新の状態になっていないので、以下のコマンドを使ってサーバの利用するソフトウェアを最新にしておきます。

```
apt-get update -y
```

### Webサーバ（Apache）のインストール

サーバ上にApacheをインストールします。Apacheは世界で最も使われているWebサーバープロダクトです。

> Apacheをインストールするとブラウザから http://52.79.97.23/ でアクセスできるようになります。

```
apt-get install apache2
```

#### Apacheの起動と停止

Apacheは以下のコマンドで起動できます。

```
service apache2 start
```

停止するときは以下のようにコマンドを実行します。

```
service apache2 stop
```

### 2.3 HTMLファイルのアップロード

手元のパソコンから、クラウド上にあるサーバにHTMLファイルをアップロードします。

#### Macユーザの場合

Desktop上のsample.htmlをアップロードする場合は以下のように入力します。

```
scp /Users/murayama/Desktop/sample.html root@52.79.97.23
```

> 画像ファイルなども忘れずにアップロードします。

#### Windowsユーザの場合

起動中のTeraTermにアップロードしたいファイルをドラッグアンドドロップします。


### 2.4 Apacheの公開フォルダにHTMLファイルをコピー

Apacheは標準で /var/www/html フォルダ上のファイルをWeb上に公開します。HTMLファイルを/var/www/htmlにコピーしましょう。

```
cp /root/sample.html /var/www/html
```

以上でLinuxサーバのセットアップは完了です。

### 2.5 動作確認

ブラウザを開いて、以下のURLにアクセスしてみましょう。

```
http://52.79.97.23/sample.html
```

作成したHTMLファイルを閲覧できればプログラミングは終了です。

> 手元のスマートフォンからHTMLファイルを見ることもできます。
